LIBRARY ieee;
USE ieee.std_logic_1164.ALL;
USE IEEE.std_logic_arith.ALL;
USE ieee.std_logic_unsigned.ALL;
ENTITY ControladorEstats IS
	PORT (
		rellotge : IN std_logic;
		KEY : IN std_logic_vector(1 DOWNTO 0);
		fin : IN std_logic;
		ini : OUT std_logic;
		rep : OUT std_logic
	);
END ControladorEstats;
ARCHITECTURE Structure OF ControladorEstats IS 
signal auxini: std_logic := '0';
BEGIN
auxini <= '1' when KEY(1);
auxrep <= '1' when KEY(0);
ini <= not fin  and auxini when falling_edge(rellotge) and auxini = '1';
rep <= fin or auxrep when falling_edge(rellotge);
	
END Structure;